<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>cairo bindings for D</title>
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@python.org
:Date: $Date: 2006-05-21 22:44:42 +0200 (Sun, 21 May 2006) $
:Revision: $Revision: 4564 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="cairo-bindings-for-d">
<h1 class="title">cairo bindings for D</h1>

<!-- This document is written in reStructuredText. -->
<!-- Build command:
rst2html.py - -date - -time README.rst README.html -->
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#introduction" id="id3" name="id3">Introduction</a></li>
<li><a class="reference" href="#installation" id="id4" name="id4">Installation</a><ul>
<li><a class="reference" href="#cairo-binding" id="id5" name="id5">cairo binding</a></li>
<li><a class="reference" href="#cairooo-binding" id="id6" name="id6">cairooo binding</a></li>
<li><a class="reference" href="#cairo-snippets" id="id7" name="id7">cairo snippets</a></li>
<li><a class="reference" href="#cairooo-tutorial" id="id8" name="id8">cairooo tutorial</a></li>
<li><a class="reference" href="#demos" id="id9" name="id9">demos</a></li>
<li><a class="reference" href="#documentation" id="id10" name="id10">documentation</a></li>
<li><a class="reference" href="#cairo-for-windows" id="id11" name="id11">cairo for Windows</a></li>
</ul>
</li>
<li><a class="reference" href="#usage" id="id12" name="id12">Usage</a><ul>
<li><a class="reference" href="#cairo" id="id13" name="id13">cairo</a></li>
<li><a class="reference" href="#cairooo" id="id14" name="id14">cairooo</a></li>
</ul>
</li>
<li><a class="reference" href="#contributing" id="id15" name="id15">Contributing</a></li>
<li><a class="reference" href="#thanks" id="id16" name="id16">Thanks</a></li>
<li><a class="reference" href="#credits" id="id17" name="id17">Credits</a></li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id3" id="introduction" name="introduction">Introduction</a></h1>
<p>This project's aim is to provide a complete, up-to-date D binding for the
<a class="reference" href="http://cairographics.org/">cairo</a> 2D drawing API.  Currently, the binding supports the base cairo
functions and PNG functions.  It also contains support for the Glitz, Win32
and Xlib backends, but these are largely untested.</p>
<p>This project also provides an object-oriented layer above the raw bindings
called <tt class="docutils literal"><span class="pre">cairooo</span></tt> which adds support for objects and exceptions, integrating
cairo more seamlessly with D style programming.  In time, we hope to also
provide a library of additional, high-level functionality with this layer.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id4" id="installation" name="installation">Installation</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id5" id="cairo-binding" name="cairo-binding">cairo binding</a></h2>
<p>To install, simply copy the <tt class="docutils literal"><span class="pre">cairo</span></tt> directory to a place in your D
compiler's import path.  That's all there is to it.</p>
<p>If you really want to have import libraries to use, then you can build these
using the <tt class="docutils literal"><span class="pre">cairo-build.d</span></tt> script, which will place them in the <tt class="docutils literal"><span class="pre">lib</span></tt>
directory.  It can be run using either:</p>
<pre class="literal-block">
dmd -run cairo-build.d ARGS
</pre>
<p>Or, if that fails:</p>
<pre class="literal-block">
build cairo-build.d
cairo-build ARGS
</pre>
<p>The command line arguments may be empty (signifying a default build), or
contain one or more targets to build.  You may also use the <tt class="docutils literal"><span class="pre">--verbose</span></tt>
switch to get more verbose output, and the <tt class="docutils literal"><span class="pre">--debug</span></tt> switch to produce
libraries with debug symbols <a class="footnote-reference" href="#debuglibs" id="id1" name="id1">[1]</a>.</p>
<p>Use the <tt class="docutils literal"><span class="pre">--help</span></tt> switch for full usage information.</p>
<p>Also, please note that if you are building static libraries that these
libraries only compile for one particular version of cairo at a time.  To
select which version of the cairo API you want to compile for, you need to use
the following additional arguments to the build script:</p>
<ul class="simple">
<li>cairo 1.0: no arguments needed.</li>
<li>cairo 1.2: <tt class="docutils literal"><span class="pre">+--version=cairo_1_2</span></tt></li>
<li>cairo 1.4: <tt class="docutils literal"><span class="pre">+--version=cairo_1_4</span></tt></li>
</ul>
<p>You will also need to specify the same version identifier when you compile
your programs.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id6" id="cairooo-binding" name="cairooo-binding">cairooo binding</a></h2>
<p>To install the cairooo binding, simply copy both the <tt class="docutils literal"><span class="pre">cairo</span></tt> and <tt class="docutils literal"><span class="pre">cairooo</span></tt>
directories to a place on your D compiler's import path.</p>
<p>If you want to build import libraries, then you can use the
<tt class="docutils literal"><span class="pre">cairooo-build.d</span></tt> script, which will build them to the <tt class="docutils literal"><span class="pre">lib</span></tt> directory.
Usage is mostly the same as using <tt class="docutils literal"><span class="pre">cairo-build.d</span></tt> (see above).</p>
<p>Note that cairooo currently does not support cairo 1.2 or 1.4.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id7" id="cairo-snippets" name="cairo-snippets">cairo snippets</a></h2>
<p>The <tt class="docutils literal"><span class="pre">cairo_snippets</span></tt> and <tt class="docutils literal"><span class="pre">cairooo_snippets</span></tt> directories contain the
&quot;snippets&quot; example programs provided by the cairo developers ported to D.
They use the <tt class="docutils literal"><span class="pre">cairo</span></tt> and <tt class="docutils literal"><span class="pre">cairooo</span></tt> bindings respectively.</p>
<p>These do not have a &quot;proper&quot; build script like the binding itself: they are
generally built with either a Windows batch file or shell script.  However, if
you wish to build them manually, the command to do so usually looks like
this:</p>
<pre class="literal-block">
build -cleanup -release -inline -I.. NAME_OF_SNIPPET
</pre>
<p>Just be sure to create the <tt class="docutils literal"><span class="pre">output</span></tt> directory if it does not exist first.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id8" id="cairooo-tutorial" name="cairooo-tutorial">cairooo tutorial</a></h2>
<p>The <tt class="docutils literal"><span class="pre">cairooo_tutorial</span></tt> contains the beginnings of a very simple introductory
tutorial to programming image programs in D using the cairooo binding.  It is
pathetically incomplete; however, it may be a useful starting point.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id9" id="demos" name="demos">demos</a></h2>
<p>The <tt class="docutils literal"><span class="pre">demos</span></tt> directory will contain a few small demo programs to showcase the
binding.  Currently, it only has one demo, so the plural is prehaps
misleading.  Hopefully this will change :)</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id10" id="documentation" name="documentation">documentation</a></h2>
<p>Whilst this project hopes to eventually have full DDoc documentation for the
cairooo binding, we will not be providing anything other than minimal
documentation for the raw cairo API binding.  The rationale is that since the
original C api and the raw D api are for the most part identical, there is no
need to duplicate the existing C documentation.</p>
<p>That said, the cairooo documentation itself is woefully lacking.  What does
exist can be built using the following command:</p>
<pre class="literal-block">
build &#64;build_docs_cairooo.brf
</pre>
<p>Please note that you will need to create the following directory structure
<em>first</em> if it does not yet exist:</p>
<pre class="literal-block">
docs\
  cairooo\
    extra\
    glitz\
    png\
    win32\
    xlib\
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id11" id="cairo-for-windows" name="cairo-for-windows">cairo for Windows</a></h2>
<p>If you are using Windows, you will also probably want to grab the cairo
library itself.  The best version I have found is on <a class="reference" href="http://www.iki.fi/tml/index.html">Tor Lillqvist</a>'s
<a class="reference" href="http://www.gimp.org/%7Etml/gimp/win32/downloads.html">GTK+ for Windows</a> website.</p>
<p>If you go to that page, you will need to download the following packages:</p>
<ul class="simple">
<li>cairo-1.x.y.zip</li>
<li>libpng 1.x.y binaries zip</li>
<li>Zlib 1.x.y</li>
</ul>
<p>Specifically, you're after <tt class="docutils literal"><span class="pre">libcairo-2.dll</span></tt>, <tt class="docutils literal"><span class="pre">libpng13.dll</span></tt> and
<tt class="docutils literal"><span class="pre">zlib1.dll</span></tt>.  Just place these files into either your system path
somewhere, or (a better idea) place them in the working directory of any
programs you're developing.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id12" id="usage" name="usage">Usage</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id13" id="cairo" name="cairo">cairo</a></h2>
<p>To use the binding, simply import <tt class="docutils literal"><span class="pre">cairo.cairo</span></tt>, along with any other
parts of the library you need.  For example, if you wanted the base cairo
functionality, along with the PNG functions, you would add the following to
your code:</p>
<pre class="literal-block">
import cairo.cairo;
import cairo.png.cairo_png;
</pre>
<p>Also, before using the cairo library, you need to tell it to load the actual
library proper.  You can do this like so:</p>
<pre class="literal-block">
cairo_load();
cairo_png_load();
</pre>
<p>If some part of the library fails to load, these functions will thrown an
exception which can be caught and dealt with.</p>
<p>To select a particular version of the cairo library, make sure you compile
with an appropriate version flag:</p>
<ul class="simple">
<li>cairo 1.0: no version flag necessary.</li>
<li>cairo 1.2: --version=cairo_1_2.</li>
<li>cairo 1.4: --version=cairo_1_4.</li>
</ul>
<p>From there, just start using the cairo API as you would from C.  The cairo
website contains a collection of <a class="reference" href="http://cairographics.org/samples/">example snippets</a> in C, and this binding
comes complete with the majority of these examples converted to D.  Just
look in the <tt class="docutils literal"><span class="pre">cairo_snippets</span></tt> directory.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id14" id="cairooo" name="cairooo">cairooo</a></h2>
<p>To use the cairooo binding instead, import <tt class="docutils literal"><span class="pre">cairooo.all</span></tt>, along with any
other parts of the library that you need.  To copy the above example, to
import the base and PNG functions:</p>
<pre class="literal-block">
import cairooo.all;
import cairooo.png.all;
</pre>
<p>As with the raw binding, you need to tell the binding to load the cairo
library before you can use it.  You can do that like so:</p>
<pre class="literal-block">
Cairo.load();
CairoPNG.load();
</pre>
<p>Again, if anything fails to load, an exception will be thrown.</p>
<p>There are no huge, arbitrary differences between the flat C api and the
object-oriented one.  The largest change is that anywhere you would pass a
handle, you instead pass an object.  The naming translation is roughly:</p>
<pre class="literal-block">
cairo_foo_bar_xxx_t* --&gt; FooBarXXX
</pre>
<p>An exception to this is the cairo context, <tt class="docutils literal"><span class="pre">cairo_t*</span></tt>, which becomes
<tt class="docutils literal"><span class="pre">Context</span></tt>.</p>
<p>Also, the following differences should be kept in mind:</p>
<ul class="simple">
<li>&quot;lower_case_with_underscores&quot; functions become &quot;lowerCaseWithUnderscores&quot;.</li>
<li>&quot;CAIRO_ENUM_TYPE_ENUM_NAME&quot; becomes &quot;EnumType.enumName&quot;.</li>
</ul>
<p>Finally, where there have been multiple ways of creating a certain kind of
object (such as a Surface or Pattern), creating them is split between using
constructors and static members.  This will get resolved eventually, but for
the moment, which one to use is unclear.</p>
<p>The general rule is that if you want to convert:</p>
<pre class="literal-block">
xxx = cairo_some_object_create_foo(arg1, arg2, ...);
</pre>
<p>You should try the following:</p>
<pre class="literal-block">
xxx = new SomeObject(arg1, arg2, ...);
xxx = SomeObject.create(arg1, arg2, ...);
xxx = SomeObject.createFoo(arg1, arg2, ...);
</pre>
<p>For more concrete examples, see the <tt class="docutils literal"><span class="pre">cairooo_snippets</span></tt>, <tt class="docutils literal"><span class="pre">cairooo_tutorial</span></tt>
and <tt class="docutils literal"><span class="pre">demos</span></tt> directories.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id15" id="contributing" name="contributing">Contributing</a></h1>
<p>The cairo api has a functionality in it that this binding does not
yet cover: PDF abd PS for example.  However, the only binary version of cairo
I have access to is limited to what is currently covered, and I have thus
far had no success in compiling cairo myself.</p>
<p>So, currently the best way to contribute is to contribute and maintain a
binding for some currently unsupported part of cairo.  You can look at the
PNG binding for a simple example.</p>
<p>That, or you can write samples and demos to test the bindings that I can't.
In addition to being fun, you get to make pretty pictures in the process!</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id16" id="thanks" name="thanks">Thanks</a></h1>
<ul class="simple">
<li>Many thanks for the hard work by the people behind the cairo library.</li>
<li>Also, thanks to Michael Parker for letting me steal <a class="reference" href="http://www.dsource.org/projects/derelict/">Derelict</a>'s dynamic
loader code.</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id17" id="credits" name="credits">Credits</a></h1>
<p>cairo bindings for D Copyright © 2006 Daniel Keep.  Portions Copyright ©
2006 Michael Parker.</p>
<p>Released under the <a class="reference" href="http://www.opensource.org/licenses/bsd-license.php">BSD license</a>.</p>
<!-- Links -->
<!-- Footnotes -->
<table class="docutils footnote" frame="void" id="debuglibs" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1" name="debuglibs">[1]</a></td><td>The debug libraries will have &quot;_debug&quot; appended to their
filename, so you do not need to worry about overwriting your
release libraries.</td></tr>
</tbody>
</table>
</div>
</div>
<div class="footer">
<hr class="footer" />
Generated on: 2007-11-04 02:51 UTC.

</div>
</body>
</html>
